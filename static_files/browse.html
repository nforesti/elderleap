<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />

	<title>Categories</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Bootstrap css -->
	<link href="css/bootstrap.css" rel="stylesheet" media="screen">
	<!-- Theme css -->
	<link href="css/colorfrog.css" rel="stylesheet" media="screen">
	<link href="css/kiddos.css" rel="stylesheet">

	<link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic' rel='stylesheet'
		type='text/css'>
	<link href="img/favicon.ico" rel="shortcut icon" type="image/x-icon" />
	<script src="js/respond.min.js"></script>

	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="js/bootstrap.js"></script>
	<script src="js/jquery.fitvids.js"></script>
	<script src="js/colorfrog.js"></script>
	<script src="js/speech.js"></script>
	<script>
		console.log("printhere");
		$(document).ready(() => {
			const requestURL = '/browse/preset';
			console.log(requestURL);
			$.ajax({
				// all URLs are relative to http://localhost:3000/
				url: requestURL,
				type: 'GET',
				dataType: 'json', // this URL returns data in JSON format
				success: (data) => {
					console.log('You received some data!', data);
					let html = "";
					for (category in data) {
						html = html + '<li class="flex-item category">\n<img src="' + data[category].img + '">\n<h3>' + category + '</h3>\n</li>';
						console.log(html);
						$('#categoryContainer').html(html);
						console.log(data[category].img);
					}
				},
			});

			$(document).on('click', '.category', function () {
				const catName = $(this).find("h3")[0].innerHTML;
				$.ajax({
					url: 'browse/preset/' + catName,
					type: 'GET',
					dataType: 'json',
					success: (data) => {
						console.log('You might have possibly some data!', data);
						let html = "";
						for (subcategory in data) {
							if (subcategory != "img"){
								console.log("here is the " + subcategory);
							html = html + '<li class="flex-item category">\n<img src="' + data[subcategory] + '">\n<h3>' + subcategory + '</h3>\n</li>';
							console.log(html);
							$('#categoryContainer').html(html);
							console.log(data[subcategory]);
							}
						}
					},
				});
			});
		});
	</script>


	<!--[if lt IE 9]>
	<script>
		document.createElement('header');document.createElement('nav');document.createElement('section');document.createElement('article');document.createElement('aside');document.createElement('footer');
	</script>
	<![endif]-->

</head>

<body class="bw">
	<!--
Use the corresponding body tag for your chosen theme
<body class="blue">
<body class="orange">
<body class="green">
<body class="bw">
-->

	<div class="container">
		<header>
			<a href="index.html">
				<h1>ACT</h1>
			</a>
		</header>

		<button class="btn navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>

		<nav class="navbar-collapse collapse">
			<ul class="nav nav-pills">
				<li><a href="index.html">Home</a></li>
				<li><a href="styles.html">Styles</a></li>
				<li><a href="templates.html">Templates</a></li>
				<li><a href="support.html">Support</a></li>
			</ul>
		</nav>
	</div> <!-- //end container -->
	<ul id="categoryContainer" class="flex-container wrap">

	</ul>

</body>

</html>